<div
  class="flex items-center justify-center p-2"
  style="width: 40px; aspect-ratio: 1/1"
>
  <ng-icon
    name="radixCrossCircled"
    class="text-red-600"
    [appTooltip]="
      onlyRequired && ctrl.errors && ctrl.errors['required']
        ? requiredMsg.msg
        : onlyFirst
          ? (ctrl.errors | validationMsg: errorMsgs)
          : template
    "
    *ngIf="(ctrl.touched || ctrl.dirty) && ctrl.errors"
  ></ng-icon>
  <ng-icon
    name="radixCheckCircled"
    class="text-green-600"
    *ngIf="ctrl.value && ctrl.valid"
  ></ng-icon>
</div>

<ng-template #template>
  <div class="flex flex-col items-start gap-1">
    <ng-container *ngFor="let msgs of errorMsgs">
      <div class="flex items-center justify-start gap-1">
        <div class="flex items-center justify-center">
          <ng-icon
            name="radixCrossCircled"
            class="text-red-600"
            *ngIf="ctrl.errors && ctrl.errors[msgs.name]"
          ></ng-icon>
          <ng-icon
            name="radixCheckCircled"
            class="text-green-600"
            *ngIf="!ctrl.errors || !ctrl.errors[msgs.name]"
          ></ng-icon>
        </div>
        <div class="flex items-center justify-center">
          <span>{{ msgs.msg }}</span>
        </div>
      </div>
    </ng-container>
  </div>
</ng-template>
